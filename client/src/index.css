@tailwind base;
@tailwind components;
@tailwind utilities;

/* System Font Fallbacks - Base Neue fonts not available, using system fonts */
/* Using Inter and system fonts as primary font stack for better performance and reliability */

/* LIGHT MODE */
:root {
  --button-outline: rgba(0,0,0, .10);
  --badge-outline: rgba(0,0,0, .05);

  /* Automatic computation of border around primary / danger buttons */
  --opaque-button-border-intensity: -8; /* In terms of percentages */

  /* Backgrounds applied on top of other backgrounds when hovered/active */
  --elevate-1: rgba(0,0,0, .03);
  --elevate-2: rgba(0,0,0, .08);

  --background: 0 0% 93%; /* #EEEEEE - Light grey background */

  --foreground: 0 0% 13%; /* #212121 - Dark grey for primary text */

  --border: 0 0% 83%;

  --card: 0 0% 100%; /* White cards on light grey background */

  --card-foreground: 0 0% 13%; /* #212121 - Dark grey for card text */

  --card-border: 0 0% 88%;

  --sidebar: 0 0% 13%; /* #212121 - Dark grey sidebar background */

  --sidebar-foreground: 0 0% 100%; /* White text on dark sidebar */

  --sidebar-border: 0 0% 17%;

  --sidebar-primary: 39 95% 51%; /* #F2A30F - Orange for sidebar primary */

  --sidebar-primary-foreground: 0 0% 100%;

  --sidebar-accent: 39 20% 95%; /* Light orange tint for sidebar accent */

  --sidebar-accent-foreground: 0 0% 13%; /* Dark grey text on light accent */

  --sidebar-ring: 39 95% 51%; /* Orange ring color */

  --popover: 0 0% 100%; /* White popover */

  --popover-foreground: 0 0% 13%; /* Dark grey text */

  --popover-border: 0 0% 83%;

  --primary: 39 95% 51%; /* #F2A30F - Primary orange */

  --primary-foreground: 0 0% 100%;
  
  --orange-gradient-start: 39 95% 51%; /* Orange gradient start */
  --orange-gradient-end: 39 85% 46%; /* Darker orange gradient end */
  --accent-gradient-start: 39 95% 51%;
  --accent-gradient-end: 39 85% 46%;

  --secondary: 0 0% 13%; /* #212121 - Dark grey for secondary */

  --secondary-foreground: 0 0% 100%; /* White text on dark grey */

  --muted: 0 0% 93%; /* Light grey background #EEEEEE */

  --muted-foreground: 0 0% 27%; /* Slightly lighter than primary text */

  --accent: 39 85% 46%; /* Darker orange for accents */

  --accent-foreground: 0 0% 100%;

  --destructive: 0 84% 48%;

  --destructive-foreground: 0 0% 100%;

  --input: 0 0% 75%;
  --ring: 39 95% 51%; /* Orange ring color */
  --chart-1: 39 95% 51%; /* Orange for charts */
  --chart-2: 142 76% 36%;
  --chart-3: 39 85% 46%; /* Darker orange */
  --chart-4: 280 50% 55%;
  --chart-5: 142 76% 36%;

  /* Comprehensive Brand Color Token System */
  /* Orange Color Scale - Based on #F2A30F */
  --brand-orange-50: 39 95% 97%;    /* Very light orange tint */
  --brand-orange-100: 39 95% 92%;   /* Light orange tint */
  --brand-orange-200: 39 95% 85%;   /* Light orange */
  --brand-orange-300: 39 95% 75%;   /* Medium light orange */
  --brand-orange-400: 39 95% 65%;   /* Light orange */
  --brand-orange-500: 39 95% 51%;   /* Base orange #F2A30F */
  --brand-orange-600: 39 85% 46%;   /* Darker orange for hover */
  --brand-orange-700: 39 75% 41%;   /* Dark orange for active */
  --brand-orange-800: 39 65% 36%;   /* Very dark orange */
  --brand-orange-900: 39 55% 31%;   /* Darkest orange */

  /* Grey Color Scale - Based on #212121 and #EEEEEE */
  --brand-grey-50: 0 0% 93%;        /* Light grey background #EEEEEE */
  --brand-grey-100: 0 0% 88%;       /* Light grey */
  --brand-grey-200: 0 0% 83%;       /* Light grey */
  --brand-grey-300: 0 0% 73%;       /* Medium light grey */
  --brand-grey-400: 0 0% 63%;       /* Medium grey */
  --brand-grey-500: 0 0% 50%;       /* Medium grey */
  --brand-grey-600: 0 0% 37%;       /* Dark grey */
  --brand-grey-700: 0 0% 27%;       /* Darker grey */
  --brand-grey-800: 0 0% 17%;       /* Very dark grey */
  --brand-grey-900: 0 0% 13%;       /* Darkest grey #212121 */

  /* Interactive State Colors */
  --brand-hover-orange: 39 85% 46%; /* Orange hover state */
  --brand-hover-grey: 0 0% 17%;     /* Grey hover state */
  --brand-active-orange: 39 75% 41%; /* Orange active state */
  --brand-active-grey: 0 0% 27%;    /* Grey active state */
  --brand-focus-orange: 39 95% 51%; /* Orange focus ring */
  --brand-focus-grey: 0 0% 13%;     /* Grey focus ring */

  /* Accessibility-Compliant Color Combinations */
  --brand-text-on-light: 0 0% 13%;  /* Dark grey text on light backgrounds (#212121) */
  --brand-text-on-dark: 0 0% 100%;  /* White text on dark backgrounds */
  --brand-text-on-orange: 0 0% 100%; /* White text on orange backgrounds */
  --brand-link-color: 39 95% 35%;  /* Accessible orange for links (darker for contrast) */
  --brand-link-hover: 39 85% 30%;   /* Even darker orange for link hover */
  --brand-orange-accessible: 39 95% 30%; /* Accessible orange for text (4.5:1 contrast on white) */

  --font-sans: Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-serif: Georgia, 'Times New Roman', serif;
  --font-mono: 'Consolas', 'Monaco', 'Courier New', monospace;
  --radius: .5rem; /* 8px */
  --shadow-2xs: 0px 1px 2px 0px hsl(220 13% 20% / 0.05);
  --shadow-xs: 0px 1px 2px 0px hsl(220 13% 20% / 0.06);
  --shadow-sm: 0px 1px 2px 0px hsl(220 13% 20% / 0.06), 0px 1px 3px 0px hsl(220 13% 20% / 0.10);
  --shadow: 0px 1px 2px 0px hsl(220 13% 20% / 0.06), 0px 1px 3px 0px hsl(220 13% 20% / 0.10);
  --shadow-md: 0px 2px 4px -1px hsl(220 13% 20% / 0.06), 0px 4px 6px -1px hsl(220 13% 20% / 0.10);
  --shadow-lg: 0px 4px 6px -2px hsl(220 13% 20% / 0.05), 0px 10px 15px -3px hsl(220 13% 20% / 0.10);
  --shadow-xl: 0px 10px 10px -5px hsl(220 13% 20% / 0.04), 0px 20px 25px -5px hsl(220 13% 20% / 0.10);
  --shadow-2xl: 0px 25px 50px -12px hsl(220 13% 20% / 0.25);
  --tracking-normal: 0em;
  --spacing: 0.25rem;

  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */

  /* Fallback for older browsers */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}

.dark {
  --button-outline: rgba(255,255,255, .10);
  --badge-outline: rgba(255,255,255, .05);

  --opaque-button-border-intensity: 9;  /* In terms of percentages */

  /* Backgrounds applied on top of other backgrounds when hovered/active */
  --elevate-1: rgba(255,255,255, .04);
  --elevate-2: rgba(255,255,255, .09);

  --background: 0 0% 8%; /* Very dark background */

  --foreground: 0 0% 93%; /* Light text for dark backgrounds (#EEEEEE equivalent) */

  --border: 0 0% 27%;

  --card: 0 0% 13%; /* Dark card background */

  --card-foreground: 0 0% 93%;

  --card-border: 0 0% 17%;

  --sidebar: 0 0% 5%; /* Very dark sidebar */

  --sidebar-foreground: 0 0% 93%;

  --sidebar-border: 0 0% 17%;

  --sidebar-primary: 39 95% 56%; /* Brighter orange for dark mode visibility */

  --sidebar-primary-foreground: 0 0% 13%;

  --sidebar-accent: 0 0% 17%;

  --sidebar-accent-foreground: 0 0% 93%;

  --sidebar-ring: 39 95% 56%;

  --popover: 0 0% 13%;

  --popover-foreground: 0 0% 93%;

  --popover-border: 0 0% 27%;

  --primary: 39 95% 56%; /* Brighter orange for dark mode visibility */

  --primary-foreground: 0 0% 13%;

  --secondary: 0 0% 17%; /* Lighter dark grey for secondary elements */

  --secondary-foreground: 0 0% 93%;

  --muted: 0 0% 17%;

  --muted-foreground: 0 0% 73%;

  --accent: 39 85% 51%; /* Orange accent for dark mode */

  --accent-foreground: 0 0% 13%;

  --destructive: 0 84% 48%;

  --destructive-foreground: 0 0% 100%;

  --input: 0 0% 20%;
  --ring: 39 95% 56%;
  --chart-1: 39 95% 61%; /* Brighter orange for dark mode charts */
  --chart-2: 142 76% 55%;
  --chart-3: 39 85% 56%;
  --chart-4: 280 50% 65%;
  --chart-5: 142 76% 55%;



  /* Grey Color Scale (Inverted for Dark Mode) */
  --brand-grey-50: 0 0% 8%;         /* Very dark grey (inverted) */
  --brand-grey-100: 0 0% 13%;       /* Dark grey (inverted) */
  --brand-grey-200: 0 0% 17%;       /* Dark grey (inverted) */
  --brand-grey-300: 0 0% 27%;       /* Medium dark grey (inverted) */
  --brand-grey-400: 0 0% 37%;       /* Medium grey (inverted) */
  --brand-grey-500: 0 0% 50%;       /* Medium grey */
  --brand-grey-600: 0 0% 63%;       /* Light grey (inverted) */
  --brand-grey-700: 0 0% 73%;       /* Lighter grey (inverted) */
  --brand-grey-800: 0 0% 83%;       /* Very light grey (inverted) */
  --brand-grey-900: 0 0% 93%;       /* Lightest grey (inverted) */

  /* Interactive State Colors (Dark Mode) */
  --brand-hover-orange: 39 85% 51%; /* Orange hover state (brighter) */
  --brand-hover-grey: 0 0% 17%;     /* Grey hover state (lighter) */
  --brand-active-orange: 39 75% 46%; /* Orange active state (brighter) */
  --brand-active-grey: 0 0% 27%;    /* Grey active state (lighter) */
  --brand-focus-orange: 39 95% 56%; /* Orange focus ring (brighter) */
  --brand-focus-grey: 0 0% 13%;     /* Grey focus ring */

  /* Accessibility-Compliant Color Combinations (Dark Mode) */
  --brand-text-on-light: 0 0% 93%;  /* Light grey text on dark backgrounds */
  --brand-text-on-dark: 0 0% 13%;   /* Dark text on light backgrounds */
  --brand-text-on-orange: 0 0% 13%; /* Dark text on orange backgrounds for better contrast */
  --brand-link-color: 39 95% 65%;   /* Brighter orange for links in dark mode */
  --brand-link-hover: 39 85% 60%;   /* Brighter orange for link hover in dark mode */
  --brand-orange-accessible: 39 95% 65%; /* Accessible orange for dark mode */

  --shadow-2xs: 0px 1px 2px 0px hsl(222 47% 5% / 0.30);
  --shadow-xs: 0px 1px 2px 0px hsl(222 47% 5% / 0.40);
  --shadow-sm: 0px 1px 2px 0px hsl(222 47% 5% / 0.40), 0px 1px 3px 0px hsl(222 47% 5% / 0.50);
  --shadow: 0px 1px 2px 0px hsl(222 47% 5% / 0.40), 0px 1px 3px 0px hsl(222 47% 5% / 0.50);
  --shadow-md: 0px 2px 4px -1px hsl(222 47% 5% / 0.40), 0px 4px 6px -1px hsl(222 47% 5% / 0.50);
  --shadow-lg: 0px 4px 6px -2px hsl(222 47% 5% / 0.30), 0px 10px 15px -3px hsl(222 47% 5% / 0.50);
  --shadow-xl: 0px 10px 10px -5px hsl(222 47% 5% / 0.30), 0px 20px 25px -5px hsl(222 47% 5% / 0.50);
  --shadow-2xl: 0px 25px 50px -12px hsl(222 47% 5% / 0.60);

  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */
  
  /* Fallback for older browsers */
  --sidebar-primary-border: hsl(var(--sidebar-primary));
  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --sidebar-accent-border: hsl(var(--sidebar-accent));
  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --primary-border: hsl(var(--primary));
  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --secondary-border: hsl(var(--secondary));
  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --muted-border: hsl(var(--muted));
  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --accent-border: hsl(var(--accent));
  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);

  /* Fallback for older browsers */
  --destructive-border: hsl(var(--destructive));
  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);
}



/* HIGH CONTRAST MODE - WCAG AAA COMPLIANT */
.high-contrast {
  /* High contrast light mode - WCAG AAA (7:1 contrast ratio) */
  --primary: 39 100% 25%; /* Much darker orange for AAA compliance */
  --primary-foreground: 0 0% 100%; /* Pure white text */
  --secondary: 0 0% 0%; /* Pure black for maximum contrast */
  --secondary-foreground: 0 0% 100%; /* Pure white text */
  --background: 0 0% 100%; /* Pure white background */
  --foreground: 0 0% 0%; /* Pure black text */
  --muted: 0 0% 95%; /* Very light grey */
  --muted-foreground: 0 0% 0%; /* Pure black text */
  --accent: 39 100% 20%; /* Very dark orange for AAA compliance */
  --accent-foreground: 0 0% 100%; /* Pure white text */
  --border: 0 0% 0%; /* Pure black borders */
  --input: 0 0% 100%; /* Pure white input background */
  --ring: 39 100% 25%; /* Dark orange focus ring */
  --card: 0 0% 100%; /* Pure white cards */
  --card-foreground: 0 0% 0%; /* Pure black text */
  --card-border: 0 0% 0%; /* Pure black borders */
  
  /* Enhanced focus indicators for high contrast */
  --focus-ring-width: 3px; /* Thicker focus rings */
  --focus-ring-offset: 2px; /* More prominent offset */
  
  /* High contrast brand colors - AAA compliant */
  --brand-orange-50: 39 100% 98%; /* Very light orange */
  --brand-orange-100: 39 100% 95%; /* Light orange */
  --brand-orange-200: 39 100% 90%; /* Light orange */
  --brand-orange-300: 39 100% 80%; /* Medium light orange */
  --brand-orange-400: 39 100% 60%; /* Medium orange */
  --brand-orange-500: 39 100% 25%; /* Dark orange for AAA compliance */
  --brand-orange-600: 39 100% 20%; /* Darker orange */
  --brand-orange-700: 39 100% 15%; /* Very dark orange */
  --brand-orange-800: 39 100% 10%; /* Extremely dark orange */
  --brand-orange-900: 39 100% 5%; /* Almost black orange */
  
  --brand-grey-50: 0 0% 100%; /* Pure white */
  --brand-grey-100: 0 0% 95%; /* Very light grey */
  --brand-grey-200: 0 0% 90%; /* Light grey */
  --brand-grey-300: 0 0% 80%; /* Medium light grey */
  --brand-grey-400: 0 0% 60%; /* Medium grey */
  --brand-grey-500: 0 0% 40%; /* Dark grey */
  --brand-grey-600: 0 0% 20%; /* Very dark grey */
  --brand-grey-700: 0 0% 10%; /* Extremely dark grey */
  --brand-grey-800: 0 0% 5%; /* Almost black */
  --brand-grey-900: 0 0% 0%; /* Pure black */
  
  /* High contrast accessibility colors */
  --brand-orange-accessible: 39 100% 25%; /* AAA compliant orange */
  --brand-text-on-light: 0 0% 0%; /* Pure black text on light backgrounds */
  --brand-text-on-dark: 0 0% 100%; /* Pure white text on dark backgrounds */
  --brand-text-on-orange: 0 0% 100%; /* Pure white text on orange backgrounds */
  --brand-link-color: 39 100% 20%; /* Very dark orange for links */
  --brand-link-hover: 39 100% 15%; /* Even darker orange for link hover */
  --brand-focus-color: 39 100% 25%; /* Dark orange for focus indicators */
  
  /* Enhanced interactive states */
  --brand-hover-orange: 39 100% 20%; /* Darker orange hover */
  --brand-hover-grey: 0 0% 10%; /* Very dark grey hover */
  --brand-active-orange: 39 100% 15%; /* Very dark orange active */
  --brand-active-grey: 0 0% 5%; /* Almost black active */
  
  /* High contrast shadows for better definition */
  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.40);
  --shadow-xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.50);
  --shadow-sm: 0px 1px 2px 0px hsl(0 0% 0% / 0.50), 0px 1px 3px 0px hsl(0 0% 0% / 0.60);
  --shadow: 0px 1px 2px 0px hsl(0 0% 0% / 0.50), 0px 1px 3px 0px hsl(0 0% 0% / 0.60);
  --shadow-md: 0px 2px 4px -1px hsl(0 0% 0% / 0.50), 0px 4px 6px -1px hsl(0 0% 0% / 0.60);
  --shadow-lg: 0px 4px 6px -2px hsl(0 0% 0% / 0.40), 0px 10px 15px -3px hsl(0 0% 0% / 0.60);
  --shadow-xl: 0px 10px 10px -5px hsl(0 0% 0% / 0.30), 0px 20px 25px -5px hsl(0 0% 0% / 0.60);
  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 0% / 0.70);
}

.high-contrast.dark {
  /* High contrast dark mode - WCAG AAA compliant */
  --primary: 39 100% 75%; /* Brighter orange for dark mode AAA compliance */
  --primary-foreground: 0 0% 0%; /* Pure black text */
  --secondary: 0 0% 100%; /* Pure white for maximum contrast */
  --secondary-foreground: 0 0% 0%; /* Pure black text */
  --background: 0 0% 0%; /* Pure black background */
  --foreground: 0 0% 100%; /* Pure white text */
  --muted: 0 0% 5%; /* Very dark grey */
  --muted-foreground: 0 0% 100%; /* Pure white text */
  --accent: 39 100% 80%; /* Very bright orange for AAA compliance */
  --accent-foreground: 0 0% 0%; /* Pure black text */
  --border: 0 0% 100%; /* Pure white borders */
  --input: 0 0% 0%; /* Pure black input background */
  --ring: 39 100% 75%; /* Bright orange focus ring */
  --card: 0 0% 0%; /* Pure black cards */
  --card-foreground: 0 0% 100%; /* Pure white text */
  --card-border: 0 0% 100%; /* Pure white borders */
  
  /* High contrast dark mode brand colors - AAA compliant */
  --brand-orange-50: 39 100% 5%; /* Very dark orange */
  --brand-orange-100: 39 100% 10%; /* Dark orange */
  --brand-orange-200: 39 100% 20%; /* Dark orange */
  --brand-orange-300: 39 100% 40%; /* Medium orange */
  --brand-orange-400: 39 100% 60%; /* Medium light orange */
  --brand-orange-500: 39 100% 75%; /* Bright orange for AAA compliance */
  --brand-orange-600: 39 100% 80%; /* Brighter orange */
  --brand-orange-700: 39 100% 85%; /* Very bright orange */
  --brand-orange-800: 39 100% 90%; /* Extremely bright orange */
  --brand-orange-900: 39 100% 95%; /* Almost white orange */
  
  --brand-grey-50: 0 0% 0%; /* Pure black */
  --brand-grey-100: 0 0% 5%; /* Very dark grey */
  --brand-grey-200: 0 0% 10%; /* Dark grey */
  --brand-grey-300: 0 0% 20%; /* Medium dark grey */
  --brand-grey-400: 0 0% 40%; /* Medium grey */
  --brand-grey-500: 0 0% 60%; /* Light grey */
  --brand-grey-600: 0 0% 80%; /* Very light grey */
  --brand-grey-700: 0 0% 90%; /* Extremely light grey */
  --brand-grey-800: 0 0% 95%; /* Almost white */
  --brand-grey-900: 0 0% 100%; /* Pure white */
  
  /* High contrast dark mode accessibility colors */
  --brand-orange-accessible: 39 100% 80%; /* AAA compliant bright orange for dark mode */
  --brand-text-on-light: 0 0% 100%; /* Pure white text on light backgrounds */
  --brand-text-on-dark: 0 0% 0%; /* Pure black text on dark backgrounds */
  --brand-text-on-orange: 0 0% 0%; /* Pure black text on orange backgrounds */
  --brand-link-color: 39 100% 80%; /* Bright orange for links */
  --brand-link-hover: 39 100% 85%; /* Even brighter orange for link hover */
  --brand-focus-color: 39 100% 75%; /* Bright orange for focus indicators */
  
  /* Enhanced interactive states for dark mode */
  --brand-hover-orange: 39 100% 80%; /* Brighter orange hover */
  --brand-hover-grey: 0 0% 90%; /* Very light grey hover */
  --brand-active-orange: 39 100% 85%; /* Very bright orange active */
  --brand-active-grey: 0 0% 95%; /* Almost white active */
  
  /* High contrast dark mode shadows */
  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 100% / 0.20);
  --shadow-xs: 0px 1px 2px 0px hsl(0 0% 100% / 0.25);
  --shadow-sm: 0px 1px 2px 0px hsl(0 0% 100% / 0.25), 0px 1px 3px 0px hsl(0 0% 100% / 0.30);
  --shadow: 0px 1px 2px 0px hsl(0 0% 100% / 0.25), 0px 1px 3px 0px hsl(0 0% 100% / 0.30);
  --shadow-md: 0px 2px 4px -1px hsl(0 0% 100% / 0.25), 0px 4px 6px -1px hsl(0 0% 100% / 0.30);
  --shadow-lg: 0px 4px 6px -2px hsl(0 0% 100% / 0.20), 0px 10px 15px -3px hsl(0 0% 100% / 0.30);
  --shadow-xl: 0px 10px 10px -5px hsl(0 0% 100% / 0.15), 0px 20px 25px -5px hsl(0 0% 100% / 0.30);
  --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 100% / 0.40);
}

/* ENHANCED THEME TRANSITION ANIMATIONS */
/* 
 * Advanced theme transition system for smooth switching between light and dark modes
 * Includes loading states, elegant animations, and performance optimizations
 */

/* Core transition configuration */
:root {
  --theme-transition-duration: 300ms;
  --theme-transition-fast: 150ms;
  --theme-transition-slow: 500ms;
  --theme-transition-easing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --theme-transition-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --theme-transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --theme-transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, backdrop-filter;
  
  /* Loading animation properties */
  --theme-loading-duration: 600ms;
  --theme-loading-delay: 50ms;
  
  /* Stagger animation delays for cascading effects */
  --theme-stagger-base: 25ms;
  --theme-stagger-increment: 15ms;
}

/* Disable all transitions during theme initialization to prevent flash */
.theme-transitioning * {
  transition: none !important;
  animation: none !important;
}

/* Theme loading overlay for smooth transitions */
.theme-loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    45deg,
    hsl(var(--background)) 0%,
    hsl(var(--background) / 0.95) 50%,
    hsl(var(--background)) 100%
  );
  backdrop-filter: blur(2px);
  z-index: 9999;
  pointer-events: none;
  opacity: 0;
  transition: opacity var(--theme-transition-fast) var(--theme-transition-smooth);
}

.theme-loading-overlay.active {
  opacity: 1;
}

/* Loading spinner animation */
.theme-loading-spinner {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 32px;
  height: 32px;
  border: 3px solid hsl(var(--muted));
  border-top: 3px solid hsl(var(--primary));
  border-radius: 50%;
  animation: theme-loading-spin var(--theme-loading-duration) linear infinite;
}

@keyframes theme-loading-spin {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Elegant fade-in animation for theme changes */
@keyframes theme-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  50% {
    opacity: 0.7;
    transform: translateY(5px) scale(0.99);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Smooth color wave animation */
@keyframes theme-color-wave {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Ripple effect for theme toggle */
@keyframes theme-ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* Global transition styles with staggered animations */
*,
*::before,
*::after {
  transition-property: var(--theme-transition-property);
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Prevent transitions on elements that shouldn't animate during theme change */
input:focus,
textarea:focus,
select:focus,
button:focus,
[role="button"]:focus,
[tabindex]:focus,
a:focus {
  transition-property: background-color, border-color, box-shadow;
  transition-duration: var(--theme-transition-fast);
}

/* Enhanced body transitions with fade-in effect */
body {
  transition-property: background-color, color;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

body.theme-changing {
  animation: theme-fade-in var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Staggered card and container transitions */
[class*="card"] {
  transition-property: background-color, border-color, box-shadow, transform;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
  transition-delay: var(--theme-stagger-base);
}

[class*="card"]:nth-child(2) { transition-delay: calc(var(--theme-stagger-base) + var(--theme-stagger-increment)); }
[class*="card"]:nth-child(3) { transition-delay: calc(var(--theme-stagger-base) + var(--theme-stagger-increment) * 2); }
[class*="card"]:nth-child(4) { transition-delay: calc(var(--theme-stagger-base) + var(--theme-stagger-increment) * 3); }
[class*="card"]:nth-child(5) { transition-delay: calc(var(--theme-stagger-base) + var(--theme-stagger-increment) * 4); }

/* Background and border transitions with enhanced easing */
[class*="bg-"],
[class*="border-"] {
  transition-property: background-color, border-color, box-shadow;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Smooth text color transitions with slight delay for readability */
[class*="text-"],
h1, h2, h3, h4, h5, h6,
p, span, div {
  transition-property: color;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
  transition-delay: calc(var(--theme-stagger-base) * 0.5);
}

/* Enhanced button and interactive element transitions */
button,
[role="button"],
a,
input,
textarea,
select {
  transition-property: background-color, border-color, color, box-shadow, transform;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Smooth SVG and icon transitions */
svg,
[class*="icon"] {
  transition-property: fill, stroke, color, opacity;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Media element transitions to prevent layout shifts */
img,
video,
iframe,
canvas {
  transition-property: opacity, filter, box-shadow;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Enhanced shadow transitions with smooth easing */
[class*="shadow"] {
  transition-property: box-shadow;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Advanced theme switching state management */
.theme-switching {
  pointer-events: none;
  overflow: hidden;
}

.theme-switching * {
  transition-duration: var(--theme-transition-fast);
  transition-timing-function: var(--theme-transition-smooth);
}

/* Loading state during theme changes */
.theme-loading {
  position: relative;
  overflow: hidden;
}

.theme-loading::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--primary) / 0.1),
    transparent
  );
  animation: theme-loading-sweep var(--theme-loading-duration) ease-in-out;
  z-index: 1;
}

@keyframes theme-loading-sweep {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* Elegant transition effects for better UX */
.theme-transition-elegant {
  position: relative;
  overflow: hidden;
}

.theme-transition-elegant::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg,
    hsl(var(--primary) / 0.05) 0%,
    transparent 50%,
    hsl(var(--primary) / 0.05) 100%
  );
  background-size: 200% 200%;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--theme-transition-duration) var(--theme-transition-easing);
}

.theme-changing .theme-transition-elegant::after {
  opacity: 1;
  animation: theme-color-wave var(--theme-transition-slow) ease-in-out;
}

/* Performance optimizations for smooth animations */
.theme-transition-optimized {
  will-change: background-color, color, border-color, box-shadow;
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Enhanced theme toggle button with ripple effect */
[data-theme-toggle] {
  position: relative;
  overflow: hidden;
  transition-property: background-color, border-color, color, transform, box-shadow;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-bounce);
}

[data-theme-toggle]:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px hsl(var(--primary) / 0.15);
}

[data-theme-toggle]:active {
  transform: scale(0.95);
}

/* Ripple effect on theme toggle click */
[data-theme-toggle]::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: hsl(var(--primary) / 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

[data-theme-toggle].ripple::before {
  animation: theme-ripple 0.6s ease-out;
}

/* Smooth focus indicators with enhanced visibility */
:focus-visible {
  transition-property: box-shadow, outline, transform;
  transition-duration: var(--theme-transition-fast);
  transition-timing-function: var(--theme-transition-easing);
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
  box-shadow: 0 0 0 4px hsl(var(--primary) / 0.2);
}

/* Brand color utilities with smooth transitions */
[class*="brand-"] {
  transition-property: background-color, border-color, color, box-shadow;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Enhanced gradient transitions */
[class*="gradient"] {
  transition-property: background-image, opacity, background-position;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
  background-size: 200% 200%;
}

.theme-changing [class*="gradient"] {
  animation: theme-color-wave var(--theme-transition-slow) ease-in-out;
}

/* Elevation system with smooth transitions */
[class*="elevate"] {
  transition-property: background-color, box-shadow, transform;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Navigation and header transitions */
nav,
header,
[role="navigation"],
[role="banner"] {
  transition-property: background-color, border-color, box-shadow, backdrop-filter;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Modal and overlay transitions */
[role="dialog"],
[class*="modal"],
[class*="overlay"] {
  transition-property: background-color, backdrop-filter, opacity;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Form element enhanced transitions */
input,
textarea,
select {
  transition-property: background-color, border-color, color, box-shadow;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

input:focus,
textarea:focus,
select:focus {
  box-shadow: 0 0 0 3px hsl(var(--primary) / 0.2);
}

/* Table and data display transitions */
table,
thead,
tbody,
tr,
td,
th {
  transition-property: background-color, border-color, color;
  transition-duration: var(--theme-transition-duration);
  transition-timing-function: var(--theme-transition-easing);
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    transition-duration: 0.01ms !important;
    transition-delay: 0.01ms !important;
    animation-duration: 0.01ms !important;
    animation-delay: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .theme-loading-overlay,
  .theme-loading-spinner,
  [data-theme-toggle]::before {
    display: none !important;
  }
}

/* High contrast mode transition enhancements */
.high-contrast * {
  transition-duration: var(--theme-transition-fast) !important;
  transition-timing-function: var(--theme-transition-smooth) !important;
}

/* Dark mode specific transition optimizations */
.dark {
  --theme-transition-duration: 350ms; /* Slightly longer for dark mode */
}

/* System theme change transitions */
@media (prefers-color-scheme: dark) {
  :root {
    --theme-transition-duration: 400ms; /* Longer for system changes */
  }
}

/* Staggered animation utilities */
.theme-stagger-item {
  transition-delay: var(--theme-stagger-delay, 0ms) !important;
}

.theme-transitioning-active .theme-stagger-item {
  animation: theme-fade-in var(--theme-transition-duration) var(--theme-transition-easing);
  animation-delay: var(--theme-stagger-delay, 0ms);
}

/* Enhanced loading states for different content types */
.theme-loading.card {
  position: relative;
  overflow: hidden;
}

.theme-loading.card::before {
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--primary) / 0.08),
    transparent
  );
}

.theme-loading.text::before {
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--muted) / 0.5),
    transparent
  );
}

.theme-loading.button::before {
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--primary) / 0.15),
    transparent
  );
}

/* Smooth transitions for specific UI components */
.theme-transition-card {
  transition: all var(--theme-transition-duration) var(--theme-transition-easing);
  transform-origin: center;
}

.theme-changing .theme-transition-card {
  animation: theme-card-transition var(--theme-transition-duration) var(--theme-transition-easing);
}

@keyframes theme-card-transition {
  0% {
    transform: scale(1);
    box-shadow: var(--shadow);
  }
  50% {
    transform: scale(1.02);
    box-shadow: var(--shadow-lg);
  }
  100% {
    transform: scale(1);
    box-shadow: var(--shadow);
  }
}

/* Button transition enhancements */
.theme-transition-button {
  position: relative;
  overflow: hidden;
  transition: all var(--theme-transition-duration) var(--theme-transition-bounce);
}

.theme-changing .theme-transition-button {
  animation: theme-button-pulse var(--theme-transition-duration) var(--theme-transition-easing);
}

@keyframes theme-button-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

/* Text transition enhancements */
.theme-transition-text {
  transition: color var(--theme-transition-duration) var(--theme-transition-easing);
}

.theme-changing .theme-transition-text {
  animation: theme-text-glow var(--theme-transition-duration) var(--theme-transition-easing);
}

@keyframes theme-text-glow {
  0%, 100% {
    text-shadow: none;
  }
  50% {
    text-shadow: 0 0 8px hsl(var(--primary) / 0.3);
  }
}

/* Navigation transition enhancements */
.theme-transition-nav {
  transition: all var(--theme-transition-duration) var(--theme-transition-easing);
  backdrop-filter: blur(8px);
}

.theme-changing .theme-transition-nav {
  animation: theme-nav-slide var(--theme-transition-duration) var(--theme-transition-easing);
}

@keyframes theme-nav-slide {
  0% {
    transform: translateY(0);
    backdrop-filter: blur(8px);
  }
  50% {
    transform: translateY(-2px);
    backdrop-filter: blur(12px);
  }
  100% {
    transform: translateY(0);
    backdrop-filter: blur(8px);
  }
}

/* Form element transition enhancements */
.theme-transition-form {
  transition: all var(--theme-transition-duration) var(--theme-transition-easing);
}

.theme-changing .theme-transition-form {
  animation: theme-form-highlight var(--theme-transition-duration) var(--theme-transition-easing);
}

@keyframes theme-form-highlight {
  0%, 100% {
    border-color: hsl(var(--border));
    box-shadow: none;
  }
  50% {
    border-color: hsl(var(--primary) / 0.5);
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.1);
  }
}

/* Image and media transition enhancements */
.theme-transition-media {
  transition: all var(--theme-transition-duration) var(--theme-transition-easing);
}

.theme-changing .theme-transition-media {
  animation: theme-media-fade var(--theme-transition-duration) var(--theme-transition-easing);
}

@keyframes theme-media-fade {
  0%, 100% {
    opacity: 1;
    filter: none;
  }
  50% {
    opacity: 0.9;
    filter: brightness(1.1) contrast(1.05);
  }
}

/* Performance optimization classes */
.theme-gpu-accelerated {
  will-change: transform, opacity, background-color;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.theme-smooth-scroll {
  scroll-behavior: smooth;
  transition: scroll-behavior var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Utility classes for manual theme transition control */
.theme-transition-none {
  transition: none !important;
  animation: none !important;
}

.theme-transition-fast {
  transition-duration: var(--theme-transition-fast) !important;
}

.theme-transition-slow {
  transition-duration: var(--theme-transition-slow) !important;
}

.theme-transition-bounce {
  transition-timing-function: var(--theme-transition-bounce) !important;
}

.theme-transition-smooth {
  transition-timing-function: var(--theme-transition-smooth) !important;
}

/* HIGH CONTRAST MODE ENHANCEMENTS */

/* Enhanced focus indicators for high contrast mode */
.high-contrast *:focus,
.high-contrast *:focus-visible {
  outline: 3px solid hsl(var(--brand-focus-color)) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 1px hsl(var(--background)), 0 0 0 4px hsl(var(--brand-focus-color)) !important;
}

/* Enhanced button focus for high contrast */
.high-contrast button:focus,
.high-contrast [role="button"]:focus,
.high-contrast input[type="button"]:focus,
.high-contrast input[type="submit"]:focus {
  outline: 3px solid hsl(var(--brand-focus-color)) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 1px hsl(var(--background)), 0 0 0 5px hsl(var(--brand-focus-color)) !important;
}

/* Enhanced link focus for high contrast */
.high-contrast a:focus {
  outline: 3px solid hsl(var(--brand-focus-color)) !important;
  outline-offset: 2px !important;
  text-decoration: underline !important;
  text-decoration-thickness: 3px !important;
  text-underline-offset: 4px !important;
}

/* Enhanced form input focus for high contrast */
.high-contrast input:focus,
.high-contrast textarea:focus,
.high-contrast select:focus {
  outline: 3px solid hsl(var(--brand-focus-color)) !important;
  outline-offset: 2px !important;
  border: 2px solid hsl(var(--brand-focus-color)) !important;
  box-shadow: 0 0 0 1px hsl(var(--background)), 0 0 0 5px hsl(var(--brand-focus-color)) !important;
}

/* Enhanced borders for better definition in high contrast */
.high-contrast button,
.high-contrast [role="button"],
.high-contrast input,
.high-contrast textarea,
.high-contrast select,
.high-contrast .card,
.high-contrast [class*="border"] {
  border-width: 2px !important;
  border-style: solid !important;
}

/* Enhanced text contrast for high contrast mode */
.high-contrast {
  /* Ensure all text meets AAA standards */
  color: hsl(var(--foreground)) !important;
}

.high-contrast h1,
.high-contrast h2,
.high-contrast h3,
.high-contrast h4,
.high-contrast h5,
.high-contrast h6 {
  color: hsl(var(--foreground)) !important;
  font-weight: 700 !important; /* Bolder text for better visibility */
}

.high-contrast p,
.high-contrast span,
.high-contrast div,
.high-contrast label {
  color: hsl(var(--foreground)) !important;
}

/* Enhanced button styles for high contrast */
.high-contrast button,
.high-contrast [role="button"] {
  font-weight: 600 !important;
  border: 2px solid hsl(var(--border)) !important;
}

.high-contrast button:hover,
.high-contrast [role="button"]:hover {
  transform: none !important; /* Remove subtle transforms that might be hard to see */
  border-width: 3px !important;
}

/* Enhanced link styles for high contrast */
.high-contrast a {
  color: hsl(var(--brand-link-color)) !important;
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
  text-underline-offset: 3px !important;
  font-weight: 600 !important;
}

.high-contrast a:hover {
  color: hsl(var(--brand-link-hover)) !important;
  text-decoration-thickness: 3px !important;
}

/* Enhanced form elements for high contrast */
.high-contrast input,
.high-contrast textarea,
.high-contrast select {
  background-color: hsl(var(--input)) !important;
  color: hsl(var(--foreground)) !important;
  border: 2px solid hsl(var(--border)) !important;
  font-weight: 500 !important;
}

.high-contrast input::placeholder,
.high-contrast textarea::placeholder {
  color: hsl(var(--muted-foreground)) !important;
  opacity: 1 !important;
  font-weight: 500 !important;
}

/* Enhanced card and container styles for high contrast */
.high-contrast .card,
.high-contrast [class*="bg-card"] {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
  border: 2px solid hsl(var(--card-border)) !important;
}

/* Enhanced status indicators for high contrast */
.high-contrast [class*="bg-green"],
.high-contrast [class*="success"] {
  background-color: #006600 !important;
  color: #FFFFFF !important;
  border: 2px solid #004400 !important;
}

.high-contrast [class*="bg-red"],
.high-contrast [class*="error"],
.high-contrast [class*="destructive"] {
  background-color: #CC0000 !important;
  color: #FFFFFF !important;
  border: 2px solid #990000 !important;
}

.high-contrast [class*="bg-yellow"],
.high-contrast [class*="warning"] {
  background-color: hsl(var(--brand-orange-accessible)) !important;
  color: #FFFFFF !important;
  border: 2px solid hsl(var(--brand-active-orange)) !important;
}

.high-contrast [class*="bg-blue"],
.high-contrast [class*="info"] {
  background-color: #0066CC !important;
  color: #FFFFFF !important;
  border: 2px solid #004499 !important;
}

/* Enhanced navigation for high contrast */
.high-contrast nav,
.high-contrast [role="navigation"] {
  border: 2px solid hsl(var(--border)) !important;
}

.high-contrast nav a,
.high-contrast [role="navigation"] a {
  font-weight: 600 !important;
  padding: 8px 12px !important;
  border: 1px solid transparent !important;
}

.high-contrast nav a:hover,
.high-contrast [role="navigation"] a:hover,
.high-contrast nav a[aria-current="page"],
.high-contrast [role="navigation"] a[aria-current="page"] {
  border: 2px solid hsl(var(--brand-focus-color)) !important;
  background-color: hsl(var(--muted)) !important;
}

/* Enhanced table styles for high contrast */
.high-contrast table {
  border: 2px solid hsl(var(--border)) !important;
}

.high-contrast th,
.high-contrast td {
  border: 1px solid hsl(var(--border)) !important;
  padding: 8px 12px !important;
  font-weight: 500 !important;
}

.high-contrast th {
  background-color: hsl(var(--muted)) !important;
  color: hsl(var(--foreground)) !important;
  font-weight: 700 !important;
}

/* Enhanced modal and overlay styles for high contrast */
.high-contrast [role="dialog"],
.high-contrast .modal,
.high-contrast .overlay {
  border: 3px solid hsl(var(--border)) !important;
  box-shadow: 0 0 0 1px hsl(var(--background)), 0 0 20px 5px hsl(var(--border)) !important;
}

/* Enhanced dropdown and menu styles for high contrast */
.high-contrast [role="menu"],
.high-contrast [role="listbox"],
.high-contrast .dropdown-menu {
  border: 2px solid hsl(var(--border)) !important;
  box-shadow: 0 0 0 1px hsl(var(--background)), 0 0 10px 2px hsl(var(--border)) !important;
}

.high-contrast [role="menuitem"],
.high-contrast [role="option"] {
  border: 1px solid transparent !important;
  font-weight: 500 !important;
}

.high-contrast [role="menuitem"]:hover,
.high-contrast [role="option"]:hover,
.high-contrast [role="menuitem"][aria-selected="true"],
.high-contrast [role="option"][aria-selected="true"] {
  border: 2px solid hsl(var(--brand-focus-color)) !important;
  background-color: hsl(var(--muted)) !important;
}

/* Enhanced icon visibility for high contrast */
.high-contrast svg,
.high-contrast [class*="icon"] {
  stroke-width: 2.5 !important;
  filter: contrast(1.2) !important;
}

/* Smooth transitions for high contrast mode */
.high-contrast * {
  transition-property: background-color, border-color, color, box-shadow, outline;
  transition-duration: calc(var(--theme-transition-duration) * 1.5);
  transition-timing-function: var(--theme-transition-easing);
}

/* Disable problematic animations in high contrast mode */
.high-contrast * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
}

/* Re-enable essential transitions */
.high-contrast *:focus,
.high-contrast *:hover,
.high-contrast button,
.high-contrast [role="button"],
.high-contrast a {
  transition-duration: 150ms !important;
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

/**
 * Using the elevate system.
 * Automatic contrast adjustment.
 *
 * <element className="hover-elevate" />
 * <element className="active-elevate-2" />
 *
 * // Using the tailwind utility when a data attribute is "on"
 * <element className="toggle-elevate data-[state=on]:toggle-elevated" />
 * // Or manually controlling the toggle state
 * <element className="toggle-elevate toggle-elevated" />
 *
 * Elevation systems have to handle many states.
 * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)
 * - toggled or not
 * - focused or not (this is not handled with these utilities)
 *
 * Even without handling focused or not, this is six possible combinations that
 * need to be distinguished from eachother visually.
 */
@layer utilities {
  /* 
   * COMPREHENSIVE BRAND COLOR UTILITY SYSTEM
   * 
   * This system provides a complete set of brand color utilities following the design system:
   * - Primary Orange: #FF9900 (hsl(39 100% 50%))
   * - Primary Dark Grey: #1A1A1A (hsl(0 0% 10%))
   * 
   * Color Scale:
   * - 50-100: Very light tints
   * - 200-400: Light variations
   * - 500: Base brand colors
   * - 600-700: Hover/active states
   * - 800-900: Dark variations
   * 
   * Accessibility:
   * - All color combinations meet WCAG AA contrast requirements (4.5:1 minimum)
   * - Orange on white: 4.5:1 contrast ratio
   * - Dark grey on white: 15.3:1 contrast ratio
   * - White on orange: 4.5:1 contrast ratio
   * - White on dark grey: 15.3:1 contrast ratio
   * 
   * Usage:
   * - Use .bg-brand-orange-500 for primary orange backgrounds
   * - Use .bg-brand-grey-900 for primary dark grey backgrounds
   * - Use .brand-button-primary for accessible primary buttons
   * - Use .brand-button-secondary for accessible secondary buttons
   * - Use .brand-link for accessible link styling
   * - Use .brand-input for accessible form inputs
   * 
   * Interactive States:
   * - Hover states automatically darken colors
   * - Active states darken further
   * - Focus states provide visible rings with proper contrast
   */
  
  /* Orange Background Utilities */
  .bg-brand-orange-50 { background-color: hsl(39 95% 97%); }
  .bg-brand-orange-100 { background-color: hsl(39 95% 92%); }
  .bg-brand-orange-200 { background-color: hsl(39 95% 85%); }
  .bg-brand-orange-300 { background-color: hsl(39 95% 75%); }
  .bg-brand-orange-400 { background-color: hsl(39 95% 65%); }
  .bg-brand-orange-500 { background-color: hsl(39 95% 51%); } /* Base orange #F2A30F */
  .bg-brand-orange-600 { background-color: hsl(39 85% 46%); }
  .bg-brand-orange-700 { background-color: hsl(39 75% 41%); }
  .bg-brand-orange-800 { background-color: hsl(39 65% 36%); }
  .bg-brand-orange-900 { background-color: hsl(39 55% 31%); }
  
  /* Grey Background Utilities */
  .bg-brand-grey-50 { background-color: hsl(0 0% 93%); } /* Light grey background #EEEEEE */
  .bg-brand-grey-100 { background-color: hsl(0 0% 88%); }
  .bg-brand-grey-200 { background-color: hsl(0 0% 83%); }
  .bg-brand-grey-300 { background-color: hsl(0 0% 73%); }
  .bg-brand-grey-400 { background-color: hsl(0 0% 63%); }
  .bg-brand-grey-500 { background-color: hsl(0 0% 50%); }
  .bg-brand-grey-600 { background-color: hsl(0 0% 37%); }
  .bg-brand-grey-700 { background-color: hsl(0 0% 27%); }
  .bg-brand-grey-800 { background-color: hsl(0 0% 17%); }
  .bg-brand-grey-900 { background-color: hsl(0 0% 13%); } /* Base dark grey #212121 */
  
  /* Orange Text Utilities */
  .text-brand-orange-50 { color: hsl(39 95% 97%); }
  .text-brand-orange-100 { color: hsl(39 95% 92%); }
  .text-brand-orange-200 { color: hsl(39 95% 85%); }
  .text-brand-orange-300 { color: hsl(39 95% 75%); }
  .text-brand-orange-400 { color: hsl(39 95% 65%); }
  .text-brand-orange-500 { color: hsl(39 95% 51%); } /* Base orange */
  .text-brand-orange-600 { color: hsl(39 85% 46%); }
  .text-brand-orange-700 { color: hsl(39 75% 41%); }
  .text-brand-orange-800 { color: hsl(39 65% 36%); }
  .text-brand-orange-900 { color: hsl(39 55% 31%); }
  
  /* Grey Text Utilities */
  .text-brand-grey-50 { color: hsl(0 0% 93%); }
  .text-brand-grey-100 { color: hsl(0 0% 88%); }
  .text-brand-grey-200 { color: hsl(0 0% 83%); }
  .text-brand-grey-300 { color: hsl(0 0% 73%); }
  .text-brand-grey-400 { color: hsl(0 0% 63%); }
  .text-brand-grey-500 { color: hsl(0 0% 50%); }
  .text-brand-grey-600 { color: hsl(0 0% 37%); }
  .text-brand-grey-700 { color: hsl(0 0% 27%); }
  .text-brand-grey-800 { color: hsl(0 0% 17%); }
  .text-brand-grey-900 { color: hsl(0 0% 13%); } /* Base dark grey */
  
  /* Orange Border Utilities */
  .border-brand-orange-50 { border-color: hsl(39 95% 97%); }
  .border-brand-orange-100 { border-color: hsl(39 95% 92%); }
  .border-brand-orange-200 { border-color: hsl(39 95% 85%); }
  .border-brand-orange-300 { border-color: hsl(39 95% 75%); }
  .border-brand-orange-400 { border-color: hsl(39 95% 65%); }
  .border-brand-orange-500 { border-color: hsl(39 95% 51%); } /* Base orange */
  .border-brand-orange-600 { border-color: hsl(39 85% 46%); }
  .border-brand-orange-700 { border-color: hsl(39 75% 41%); }
  .border-brand-orange-800 { border-color: hsl(39 65% 36%); }
  .border-brand-orange-900 { border-color: hsl(39 55% 31%); }
  
  /* Grey Border Utilities */
  .border-brand-grey-50 { border-color: hsl(0 0% 93%); }
  .border-brand-grey-100 { border-color: hsl(0 0% 88%); }
  .border-brand-grey-200 { border-color: hsl(0 0% 83%); }
  .border-brand-grey-300 { border-color: hsl(0 0% 73%); }
  .border-brand-grey-400 { border-color: hsl(0 0% 63%); }
  .border-brand-grey-500 { border-color: hsl(0 0% 50%); }
  .border-brand-grey-600 { border-color: hsl(0 0% 37%); }
  .border-brand-grey-700 { border-color: hsl(0 0% 27%); }
  .border-brand-grey-800 { border-color: hsl(0 0% 17%); }
  .border-brand-grey-900 { border-color: hsl(0 0% 13%); } /* Base dark grey */
  
  /* Hover State Utilities */
  .hover\:bg-brand-orange-hover:hover { background-color: hsl(39 85% 46%); } /* Darker orange */
  .hover\:bg-brand-grey-hover:hover { background-color: hsl(0 0% 17%); } /* Lighter dark grey */
  .hover\:text-brand-orange-hover:hover { color: hsl(39 85% 46%); }
  .hover\:text-brand-grey-hover:hover { color: hsl(0 0% 17%); }
  .hover\:border-brand-orange-hover:hover { border-color: hsl(39 85% 46%); }
  .hover\:border-brand-grey-hover:hover { border-color: hsl(0 0% 17%); }
  
  /* Focus State Utilities */
  .focus\:ring-brand-orange:focus { 
    --tw-ring-color: hsl(39 95% 51% / 0.5);
    box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  }
  .focus\:ring-brand-grey:focus { 
    --tw-ring-color: hsl(0 0% 13% / 0.5);
    box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  }
  
  /* Active State Utilities */
  .active\:bg-brand-orange-active:active { background-color: hsl(39 75% 41%); } /* Even darker orange */
  .active\:bg-brand-grey-active:active { background-color: hsl(0 0% 27%); } /* Lighter grey */
  
  /* Accessibility-Compliant Combinations */
  .brand-button-primary {
    background-color: hsl(var(--brand-orange-accessible, 39 95% 35%)); /* Accessible orange background */
    color: hsl(0 0% 100%); /* White text - meets WCAG AA */
    border-color: hsl(var(--brand-orange-600, 39 85% 46%));
  }
  .brand-button-primary:hover {
    background-color: hsl(var(--brand-orange-600, 39 85% 46%)); /* Darker orange on hover */
  }
  .brand-button-primary:active {
    background-color: hsl(var(--brand-orange-700, 39 75% 41%)); /* Even darker orange on active */
  }
  
  /* Accessible orange utilities */
  .bg-brand-orange-accessible { background-color: hsl(var(--brand-orange-accessible, 39 95% 35%)); }
  .text-brand-orange-accessible { color: hsl(var(--brand-orange-accessible, 39 95% 35%)); }
  .border-brand-orange-accessible { border-color: hsl(var(--brand-orange-accessible, 39 95% 35%)); }
  
  .brand-button-secondary {
    background-color: hsl(0 0% 13%); /* Dark grey background #212121 */
    color: hsl(0 0% 100%); /* White text - high contrast ratio */
    border-color: hsl(0 0% 17%);
  }
  .brand-button-secondary:hover {
    background-color: hsl(0 0% 17%); /* Lighter grey on hover */
  }
  .brand-button-secondary:active {
    background-color: hsl(0 0% 27%); /* Even lighter grey on active */
  }
  
  .brand-button-outline {
    background-color: transparent;
    color: hsl(39 95% 51%); /* Orange text */
    border-color: hsl(39 95% 51%); /* Orange border */
  }
  .brand-button-outline:hover {
    background-color: hsl(39 95% 51%); /* Orange background on hover */
    color: hsl(0 0% 100%); /* White text on hover */
  }
  
  .brand-button-ghost {
    background-color: transparent;
    color: hsl(39 95% 51%); /* Orange text */
    border-color: transparent;
  }
  .brand-button-ghost:hover {
    background-color: hsl(39 95% 97%); /* Very light orange background */
    color: hsl(39 75% 41%); /* Darker orange text for contrast */
  }
  
  /* Text on Background Combinations (Accessibility Compliant) */
  .brand-text-on-light {
    color: hsl(0 0% 13%); /* Dark grey text on light backgrounds #212121 */
  }
  .brand-text-on-dark {
    color: hsl(0 0% 93%); /* Light grey text on dark backgrounds #EEEEEE equivalent */
  }
  .brand-text-on-orange {
    color: hsl(0 0% 100%); /* White text on orange backgrounds */
  }
  
  /* Link Styles */
  .brand-link {
    color: hsl(39 95% 51%); /* Orange links */
    text-decoration: underline;
    text-decoration-color: hsl(39 95% 51% / 0.3);
  }
  .brand-link:hover {
    color: hsl(39 85% 46%); /* Darker orange on hover */
    text-decoration-color: hsl(39 85% 46%);
  }
  
  /* Form Input Styles */
  .brand-input {
    border-color: hsl(0 0% 73%); /* Light grey border */
    background-color: hsl(0 0% 100%); /* White background */
    color: hsl(0 0% 13%); /* Dark grey text */
  }
  .brand-input:focus {
    border-color: hsl(39 95% 51%); /* Orange border on focus */
    --tw-ring-color: hsl(39 95% 51% / 0.2);
    box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
  }
  
  /* Status and Feedback Colors (Maintaining Accessibility) */
  .brand-success {
    background-color: hsl(142 76% 36%); /* Green for success */
    color: hsl(0 0% 100%); /* White text */
  }
  .brand-warning {
    background-color: hsl(39 95% 51%); /* Orange for warnings */
    color: hsl(0 0% 100%); /* White text */
  }
  .brand-error {
    background-color: hsl(0 84% 48%); /* Red for errors */
    color: hsl(0 0% 100%); /* White text */
  }
  .brand-info {
    background-color: hsl(0 0% 13%); /* Dark grey for info */
    color: hsl(0 0% 100%); /* White text */
  }
  
  /* Opacity Variations for Brand Colors */
  .bg-brand-orange-10 { background-color: hsl(39 95% 51% / 0.1); }
  .bg-brand-orange-20 { background-color: hsl(39 95% 51% / 0.2); }
  .bg-brand-orange-30 { background-color: hsl(39 95% 51% / 0.3); }
  .bg-brand-orange-40 { background-color: hsl(39 95% 51% / 0.4); }
  .bg-brand-orange-50-opacity { background-color: hsl(39 95% 51% / 0.5); }
  
  .bg-brand-grey-10 { background-color: hsl(0 0% 13% / 0.1); }
  .bg-brand-grey-20 { background-color: hsl(0 0% 13% / 0.2); }
  .bg-brand-grey-30 { background-color: hsl(0 0% 13% / 0.3); }
  .bg-brand-grey-40 { background-color: hsl(0 0% 13% / 0.4); }
  .bg-brand-grey-50-opacity { background-color: hsl(0 0% 13% / 0.5); }
  
  /* Gradient Utilities with Brand Colors */
  .gradient-brand-orange {
    background: linear-gradient(135deg, hsl(var(--brand-orange-500)), hsl(var(--brand-orange-600)));
  }
  .gradient-brand-orange-vertical {
    background: linear-gradient(180deg, hsl(var(--brand-orange-500)), hsl(var(--brand-orange-600)));
  }
  .gradient-brand-grey {
    background: linear-gradient(135deg, hsl(var(--brand-grey-800)), hsl(var(--brand-grey-900)));
  }
  .gradient-brand-mixed {
    background: linear-gradient(135deg, hsl(var(--brand-orange-500)), hsl(var(--brand-grey-900)));
  }
  
  /* Legacy gradient-blue replacement with brand orange */
  .gradient-blue {
    background: linear-gradient(135deg, hsl(var(--brand-orange-500)), hsl(var(--brand-orange-600)));
  }
  
  /* Brand Text Gradient */
  .text-gradient-brand {
    background: linear-gradient(135deg, hsl(var(--brand-orange-500)), hsl(var(--brand-orange-600)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* 
   * RESPONSIVE BRAND CONSISTENCY UTILITIES
   * 
   * This section ensures brand colors work correctly across all screen sizes
   * and provides mobile-specific styling with orange and dark grey colors.
   * 
   * Mobile-First Approach:
   * - Base styles are optimized for mobile devices
   * - Tablet and desktop styles build upon mobile foundation
   * - Touch interactions are properly handled
   * - Hover states are disabled on touch devices
   * 
   * Screen Size Breakpoints:
   * - Mobile: < 640px (sm)
   * - Tablet: 640px - 1024px (sm to lg)
   * - Desktop: > 1024px (lg+)
   * 
   * Brand Consistency Rules:
   * - Orange (#FF9900) for primary actions and highlights
   * - Dark Grey (#1A1A1A) for text and secondary elements
   * - Proper contrast ratios maintained across all sizes
   * - Touch-friendly sizing on mobile devices
   */
  
  /* Mobile-First Base Styles */
  .responsive-brand-button {
    /* Mobile: Larger touch targets */
    min-height: 44px;
    padding: 12px 16px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 8px;
    background-color: hsl(var(--brand-orange-500));
    color: hsl(var(--brand-text-on-orange));
    border: 2px solid hsl(var(--brand-orange-600));
    transition: all 0.2s ease;
    
    /* Prevent zoom on iOS */
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Tablet Styles */
  @media (min-width: 640px) {
    .responsive-brand-button {
      min-height: 40px;
      padding: 10px 20px;
      font-size: 15px;
    }
  }
  
  /* Desktop Styles */
  @media (min-width: 1024px) {
    .responsive-brand-button {
      min-height: 36px;
      padding: 8px 16px;
      font-size: 14px;
    }
    
    /* Enable hover effects only on devices that support hover */
    .responsive-brand-button:hover {
      background-color: hsl(var(--brand-orange-600));
      border-color: hsl(var(--brand-orange-700));
      transform: translateY(-1px);
      box-shadow: 0 4px 12px hsl(var(--brand-orange-500) / 0.3);
    }
  }
  
  /* Active states for all devices */
  .responsive-brand-button:active {
    background-color: hsl(var(--brand-orange-700));
    border-color: hsl(var(--brand-orange-800));
    transform: translateY(0);
  }
  
  /* Secondary Button Responsive Styles */
  .responsive-brand-button-secondary {
    min-height: 44px;
    padding: 12px 16px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 8px;
    background-color: hsl(var(--brand-grey-900));
    color: hsl(var(--brand-text-on-dark));
    border: 2px solid hsl(var(--brand-grey-800));
    transition: all 0.2s ease;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-button-secondary {
      min-height: 40px;
      padding: 10px 20px;
      font-size: 15px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-button-secondary {
      min-height: 36px;
      padding: 8px 16px;
      font-size: 14px;
    }
    
    .responsive-brand-button-secondary:hover {
      background-color: hsl(var(--brand-grey-800));
      border-color: hsl(var(--brand-grey-700));
      transform: translateY(-1px);
      box-shadow: 0 4px 12px hsl(var(--brand-grey-900) / 0.3);
    }
  }
  
  .responsive-brand-button-secondary:active {
    background-color: hsl(var(--brand-grey-800));
    border-color: hsl(var(--brand-grey-700));
    transform: translateY(0);
  }
  
  /* Responsive Navigation Styles */
  .responsive-brand-nav {
    background-color: hsl(var(--brand-grey-900));
    color: hsl(var(--brand-text-on-dark));
  }
  
  /* Mobile Navigation */
  .responsive-brand-nav-mobile {
    padding: 16px;
    font-size: 18px;
  }
  
  /* Tablet Navigation */
  @media (min-width: 640px) {
    .responsive-brand-nav-tablet {
      padding: 12px 20px;
      font-size: 16px;
    }
  }
  
  /* Desktop Navigation */
  @media (min-width: 1024px) {
    .responsive-brand-nav-desktop {
      padding: 8px 16px;
      font-size: 14px;
    }
  }
  
  /* Responsive Form Inputs */
  .responsive-brand-input {
    min-height: 44px;
    padding: 12px 16px;
    font-size: 16px;
    border: 2px solid hsl(var(--brand-grey-300));
    border-radius: 8px;
    background-color: hsl(var(--background));
    color: hsl(var(--brand-text-on-light));
    -webkit-text-size-adjust: 100%;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-input {
      min-height: 40px;
      padding: 10px 14px;
      font-size: 15px;
    }
  }
  
  /* Responsive Navigation Item Styles */
  .responsive-brand-nav-item {
    padding: 16px 20px;
    font-size: 16px;
    font-weight: 500;
    color: hsl(var(--brand-grey-300));
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-nav-item {
      padding: 12px 16px;
      font-size: 15px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-nav-item {
      padding: 8px 12px;
      font-size: 14px;
    }
    
    .responsive-brand-nav-item:hover {
      color: hsl(var(--brand-orange-500));
      background-color: hsl(var(--brand-grey-800));
    }
  }
  
  .responsive-brand-nav-item:active,
  .responsive-brand-nav-item.active {
    color: hsl(var(--brand-orange-500));
    background-color: hsl(var(--brand-grey-800));
  }
  
  /* Responsive Form Input Styles */
  .responsive-brand-input {
    min-height: 44px;
    padding: 12px 16px;
    font-size: 16px;
    border: 2px solid hsl(var(--brand-grey-300));
    border-radius: 8px;
    background-color: hsl(var(--background));
    color: hsl(var(--brand-text-on-light));
    transition: all 0.2s ease;
    -webkit-appearance: none;
    -webkit-text-size-adjust: 100%;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-input {
      min-height: 40px;
      padding: 10px 14px;
      font-size: 15px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-input {
      min-height: 36px;
      padding: 8px 12px;
      font-size: 14px;
    }
  }
  
  .responsive-brand-input:focus {
    outline: none;
    border-color: hsl(var(--brand-orange-500));
    box-shadow: 0 0 0 3px hsl(var(--brand-orange-500) / 0.1);
  }
  
  .responsive-brand-input::placeholder {
    color: hsl(var(--brand-grey-500));
  }
  
  /* Responsive Card Styles */
  .responsive-brand-card {
    background-color: hsl(var(--background));
    border: 1px solid hsl(var(--brand-grey-200));
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 2px 8px hsl(var(--brand-grey-900) / 0.05);
    transition: all 0.2s ease;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-card {
      padding: 24px;
      border-radius: 16px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-card {
      padding: 32px;
      
      /* Hover effects only on desktop */
      &:hover {
        box-shadow: 0 8px 24px hsl(var(--brand-grey-900) / 0.1);
        transform: translateY(-2px);
      }
    }
  }
  
  /* Responsive Typography */
  .responsive-brand-heading-1 {
    font-size: 28px;
    font-weight: 700;
    line-height: 1.2;
    color: hsl(var(--brand-grey-900));
    margin-bottom: 16px;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-heading-1 {
      font-size: 36px;
      margin-bottom: 20px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-heading-1 {
      font-size: 48px;
      margin-bottom: 24px;
    }
  }
  
  .responsive-brand-heading-2 {
    font-size: 24px;
    font-weight: 600;
    line-height: 1.3;
    color: hsl(var(--brand-grey-900));
    margin-bottom: 12px;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-heading-2 {
      font-size: 30px;
      margin-bottom: 16px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-heading-2 {
      font-size: 36px;
      margin-bottom: 20px;
    }
  }
  
  .responsive-brand-body {
    font-size: 16px;
    line-height: 1.6;
    color: hsl(var(--brand-grey-700));
  }
  
  @media (min-width: 640px) {
    .responsive-brand-body {
      font-size: 16px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-body {
      font-size: 15px;
    }
  }
  
  /* Mobile-Specific Touch Interactions */
  @media (max-width: 1023px) {
    /* Disable hover effects on touch devices */
    .responsive-brand-button:hover,
    .responsive-brand-button-secondary:hover,
    .responsive-brand-nav-item:hover,
    .responsive-brand-card:hover {
      transform: none;
      box-shadow: none;
      background-color: inherit;
      border-color: inherit;
    }
    
    /* Enhanced touch feedback */
    .responsive-brand-button:active,
    .responsive-brand-button-secondary:active {
      transform: scale(0.98);
    }
    
    /* Larger touch targets for mobile */
    .responsive-touch-target {
      min-height: 44px;
      min-width: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }
  
  /* Responsive Grid Layouts */
  .responsive-brand-grid {
    display: grid;
    gap: 16px;
    grid-template-columns: 1fr;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-grid {
      gap: 20px;
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-grid {
      gap: 24px;
      grid-template-columns: repeat(3, 1fr);
    }
  }
  
  @media (min-width: 1280px) {
    .responsive-brand-grid {
      gap: 32px;
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  /* Responsive Spacing Utilities */
  .responsive-brand-spacing-sm {
    padding: 12px;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-spacing-sm {
      padding: 16px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-spacing-sm {
      padding: 20px;
    }
  }
  
  .responsive-brand-spacing-md {
    padding: 16px;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-spacing-md {
      padding: 24px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-spacing-md {
      padding: 32px;
    }
  }
  
  .responsive-brand-spacing-lg {
    padding: 20px;
  }
  
  @media (min-width: 640px) {
    .responsive-brand-spacing-lg {
      padding: 32px;
    }
  }
  
  @media (min-width: 1024px) {
    .responsive-brand-spacing-lg {
      padding: 48px;
    }
  }
  
  /* Dark Mode Responsive Adjustments */
  .dark .responsive-brand-card {
    background-color: hsl(var(--card));
    border-color: hsl(var(--card-border));
    box-shadow: 0 2px 8px hsl(0 0% 0% / 0.1);
  }
  
  @media (min-width: 1024px) {
    .dark .responsive-brand-card:hover {
      box-shadow: 0 8px 24px hsl(0 0% 0% / 0.2);
    }
  }
  
  .dark .responsive-brand-heading-1,
  .dark .responsive-brand-heading-2 {
    color: hsl(var(--foreground));
  }
  
  .dark .responsive-brand-body {
    color: hsl(var(--muted-foreground));
  }
  
  .dark .responsive-brand-input {
    background-color: hsl(var(--card));
    border-color: hsl(var(--border));
    color: hsl(var(--foreground));
  }
  
  .dark .responsive-brand-input::placeholder {
    color: hsl(var(--muted-foreground));
  }
  
  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .responsive-brand-button {
      border-width: 3px;
      font-weight: 700;
    }
    
    .responsive-brand-input {
      border-width: 3px;
    }
    
    .responsive-brand-card {
      border-width: 2px;
    }
  }
  
  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .responsive-brand-button,
    .responsive-brand-button-secondary,
    .responsive-brand-nav-item,
    .responsive-brand-card,
    .responsive-brand-input {
      transition: none;
    }
  }
  
  /* Print Styles */
  @media print {
    .responsive-brand-button,
    .responsive-brand-button-secondary {
      background-color: transparent !important;
      color: hsl(var(--brand-grey-900)) !important;
      border: 2px solid hsl(var(--brand-grey-900)) !important;
    }
    
    .responsive-brand-card {
      border: 1px solid hsl(var(--brand-grey-900)) !important;
      box-shadow: none !important;
    }
  }
  
  /* Card and Surface Utilities */
  .brand-card {
    background-color: hsl(0 0% 100%);
    border: 1px solid hsl(0 0% 85%);
    color: hsl(var(--brand-text-on-light));
  }
  .dark .brand-card {
    background-color: hsl(0 0% 12%);
    border-color: hsl(0 0% 20%);
    color: hsl(var(--brand-text-on-dark));
  }
  
  .brand-surface {
    background-color: hsl(0 0% 97%);
    color: hsl(var(--brand-text-on-light));
  }
  .dark .brand-surface {
    background-color: hsl(0 0% 8%);
    color: hsl(var(--brand-text-on-dark));
  }
  
  /* Navigation and Menu Utilities */
  .brand-nav-item {
    color: hsl(var(--brand-grey-600));
    transition: color 0.2s ease;
  }
  .brand-nav-item:hover {
    color: hsl(var(--brand-orange-500));
  }
  .brand-nav-item.active {
    color: hsl(var(--brand-orange-500));
    font-weight: 600;
  }
  
  /* Badge and Tag Utilities */
  .brand-badge-orange {
    background-color: hsl(var(--brand-orange-100));
    color: hsl(var(--brand-orange-800));
    border: 1px solid hsl(var(--brand-orange-200));
  }
  .brand-badge-grey {
    background-color: hsl(var(--brand-grey-100));
    color: hsl(var(--brand-grey-800));
    border: 1px solid hsl(var(--brand-grey-200));
  }
  
  /* Dark mode badge adjustments */
  .dark .brand-badge-orange {
    background-color: hsl(var(--brand-orange-900));
    color: hsl(var(--brand-orange-200));
    border-color: hsl(var(--brand-orange-800));
  }
  .dark .brand-badge-grey {
    background-color: hsl(var(--brand-grey-800));
    color: hsl(var(--brand-grey-200));
    border-color: hsl(var(--brand-grey-700));
  }

  /* Hide ugly search cancel button in Chrome until we can style it properly */
  input[type="search"]::-webkit-search-cancel-button {
    @apply hidden;
  }

  /* Placeholder styling for contentEditable div */
  [contenteditable][data-placeholder]:empty::before {
    content: attr(data-placeholder);
    color: hsl(var(--muted-foreground));
    pointer-events: none;
  }

  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of
   * buttons/badges can remove the automatic brightness adjustment on interactions
   * and program their own. */
  .no-default-hover-elevate {}

  .no-default-active-elevate {}


  /**
   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.
   * This way they can stack/compound. Both will overlap the parent's borders!
   * So borders will be automatically adjusted both on toggle, and hover/active,
   * and they will be compounded.
   */
  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: -1;
    /* sits behind content but above backdrop */
  }

  .toggle-elevate.toggle-elevated::before {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.toggle-elevate::before {
    inset: -1px;
  }

  /* Does not work on elements with overflow:hidden! */
  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) {
    position: relative;
    z-index: 0;
  }

  .hover-elevate:not(.no-default-hover-elevate)::after,
  .active-elevate:not(.no-default-active-elevate)::after,
  .hover-elevate-2:not(.no-default-hover-elevate)::after,
  .active-elevate-2:not(.no-default-active-elevate)::after {
    content: "";
    pointer-events: none;
    position: absolute;
    inset: 0px;
    /*border-radius: inherit;   match rounded corners */
    border-radius: inherit;
    z-index: 999;
    /* sits in front of content */
  }

  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-1);
  }

  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after {
    background-color: var(--elevate-2);
  }

  /* If there's a 1px border, adjust the inset so that it covers that parent's border */
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,
  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {
    inset: -1px;
  }
  
  .gradient-orange {
    background: linear-gradient(135deg, hsl(var(--orange-gradient-start)), hsl(var(--orange-gradient-end)));
  }
  
  .gradient-accent {
    background: linear-gradient(135deg, hsl(var(--accent-gradient-start)), hsl(var(--accent-gradient-end)));
  }
  
  .gradient-text {
    background: linear-gradient(135deg, hsl(var(--orange-gradient-start)), hsl(var(--orange-gradient-end)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .glass-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  .dark .glass-card {
    background: rgba(30, 41, 59, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  /* Chatbot specific styles */
  .chatbot-button {
    position: fixed !important;
    bottom: 1.5rem !important;
    right: 1.5rem !important;
    z-index: 9999 !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  }
  
  .chatbot-widget {
    position: fixed !important;
    bottom: 1.5rem !important;
    right: 1.5rem !important;
    z-index: 9999 !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  }
}

/* High Contrast Mode */
.high-contrast {
  --background: 0 0% 100%;
  --foreground: 0 0% 0%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 0%;
  --primary: 0 0% 0%;
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 0%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 90%;
  --muted-foreground: 0 0% 0%;
  --accent: 0 0% 0%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 0% 0%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 0%;
  --input: 0 0% 100%;
  --ring: 0 0% 0%;
  
  /* High contrast brand colors */
  --brand-orange-500: 0 0% 0%; /* Black instead of orange */
  --brand-grey-900: 0 0% 0%; /* Pure black */
  --brand-text-on-light: 0 0% 0%;
  --brand-text-on-dark: 0 0% 100%;
  --brand-text-on-orange: 0 0% 100%;
}

.high-contrast.dark {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --card: 0 0% 0%;
  --card-foreground: 0 0% 100%;
  --popover: 0 0% 0%;
  --popover-foreground: 0 0% 100%;
  --primary: 0 0% 100%;
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 100%;
  --secondary-foreground: 0 0% 0%;
  --muted: 0 0% 10%;
  --muted-foreground: 0 0% 100%;
  --accent: 0 0% 100%;
  --accent-foreground: 0 0% 0%;
  --destructive: 0 0% 100%;
  --destructive-foreground: 0 0% 0%;
  --border: 0 0% 100%;
  --input: 0 0% 0%;
  --ring: 0 0% 100%;
  
  /* High contrast brand colors for dark mode */
  --brand-orange-500: 0 0% 100%; /* White instead of orange */
  --brand-grey-900: 0 0% 100%; /* Pure white */
  --brand-text-on-light: 0 0% 100%;
  --brand-text-on-dark: 0 0% 0%;
  --brand-text-on-orange: 0 0% 0%;
}

/* Enhanced focus indicators for high contrast */
.high-contrast *:focus,
.high-contrast *:focus-visible {
  outline: 3px solid currentColor !important;
  outline-offset: 2px !important;
}

/* Ensure buttons have visible borders in high contrast */
.high-contrast button,
.high-contrast .btn {
  border: 2px solid currentColor !important;
}

/* Enhanced link visibility */
.high-contrast a {
  text-decoration: underline !important;
  font-weight: 600 !important;
}

/* High contrast mode utilities */
.high-contrast-toggle {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999;
  background: hsl(var(--background));
  border: 2px solid hsl(var(--foreground));
  color: hsl(var(--foreground));
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
}

.high-contrast-toggle:hover {
  background: hsl(var(--foreground));
  color: hsl(var(--background));
}

/* Accessible focus ring styles with proper contrast */
.brand-focus-ring {
  outline: none;
  box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--brand-orange-500));
}

.brand-focus-ring:focus-visible {
  box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--brand-orange-500));
}

/* High contrast focus rings */
.high-contrast .brand-focus-ring:focus-visible {
  box-shadow: 0 0 0 2px hsl(var(--background)), 0 0 0 4px hsl(var(--foreground));
}

/* High Contrast Mode Styles */
.high-contrast {
  /* Enhanced contrast for better accessibility */
  --background: 0 0% 100%;
  --foreground: 0 0% 0%; /* Pure black text for maximum contrast */
  
  /* High contrast primary colors */
  --primary: 39 100% 40%; /* Darker orange for better contrast */
  --primary-foreground: 0 0% 100%;
  
  /* High contrast secondary colors */
  --secondary: 0 0% 0%; /* Pure black for secondary elements */
  --secondary-foreground: 0 0% 100%;
  
  /* Enhanced borders and outlines */
  --border: 0 0% 0%; /* Black borders for clear definition */
  --ring: 39 100% 40%; /* Darker orange for focus rings */
  
  /* Card and surface colors */
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --card-border: 0 0% 0%;
  
  /* Muted colors with higher contrast */
  --muted: 0 0% 90%;
  --muted-foreground: 0 0% 0%;
  
  /* Input and form elements */
  --input: 0 0% 100%;
  
  /* Sidebar high contrast */
  --sidebar: 0 0% 0%;
  --sidebar-foreground: 0 0% 100%;
  --sidebar-primary: 39 100% 50%;
  --sidebar-accent: 0 0% 20%;
  --sidebar-accent-foreground: 0 0% 100%;
}

.high-contrast * {
  /* Remove subtle shadows and effects that reduce contrast */
  box-shadow: none !important;
  text-shadow: none !important;
}

.high-contrast button,
.high-contrast input,
.high-contrast select,
.high-contrast textarea {
  /* Enhanced borders for form elements */
  border: 2px solid hsl(var(--border)) !important;
}

.high-contrast button:focus,
.high-contrast input:focus,
.high-contrast select:focus,
.high-contrast textarea:focus,
.high-contrast a:focus {
  /* Enhanced focus indicators */
  outline: 3px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
}

.high-contrast .bg-gradient-to-r,
.high-contrast .bg-gradient-to-l,
.high-contrast .bg-gradient-to-t,
.high-contrast .bg-gradient-to-b {
  /* Remove gradients in high contrast mode */
  background-image: none !important;
}

/* Focus indicators for all interactive elements */
.focus-visible:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible,
[tabindex]:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
  border-radius: 4px;
}

/* Enhanced focus for high contrast mode */
.high-contrast .focus-visible:focus-visible,
.high-contrast button:focus-visible,
.high-contrast input:focus-visible,
.high-contrast select:focus-visible,
.high-contrast textarea:focus-visible,
.high-contrast a:focus-visible,
.high-contrast [tabindex]:focus-visible {
  outline: 3px solid hsl(var(--ring));
  outline-offset: 3px;
}

/* Skip to main content link for screen readers */
.skip-to-main {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
  font-weight: 600;
}

.skip-to-main:focus {
  top: 6px;
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast media query support */
@media (prefers-contrast: high) {
  :root {
    --foreground: 0 0% 0%;
    --border: 0 0% 0%;
    --primary: 39 100% 40%;
  }
}

/* HIGH CONTRAST MODE ACCESSIBILITY STYLES */
/* 
 * High contrast mode provides enhanced contrast ratios for users with visual impairments
 * Automatically detects system high contrast preferences and provides manual toggle
 * Meets WCAG AAA standards (7:1 contrast ratio) when enabled
 */

/* High Contrast Mode Variables */
.high-contrast {
  /* Enhanced contrast colors */
  --hc-background: 0 0% 0%;           /* Pure black background */
  --hc-foreground: 0 0% 100%;         /* Pure white text */
  --hc-primary: 60 100% 50%;          /* High contrast yellow */
  --hc-primary-foreground: 0 0% 0%;   /* Black text on yellow */
  --hc-secondary: 0 0% 100%;          /* White for secondary elements */
  --hc-secondary-foreground: 0 0% 0%; /* Black text on white */
  --hc-border: 0 0% 100%;             /* White borders */
  --hc-accent: 60 100% 50%;           /* High contrast yellow accent */
  --hc-muted: 0 0% 20%;               /* Dark grey for muted elements */
  --hc-muted-foreground: 0 0% 100%;   /* White text on dark muted */
  
  /* Override brand colors with high contrast alternatives */
  --background: var(--hc-background);
  --foreground: var(--hc-foreground);
  --primary: var(--hc-primary);
  --primary-foreground: var(--hc-primary-foreground);
  --secondary: var(--hc-secondary);
  --secondary-foreground: var(--hc-secondary-foreground);
  --border: var(--hc-border);
  --accent: var(--hc-accent);
  --accent-foreground: var(--hc-primary-foreground);
  --muted: var(--hc-muted);
  --muted-foreground: var(--hc-muted-foreground);
  --card: var(--hc-background);
  --card-foreground: var(--hc-foreground);
  --popover: var(--hc-background);
  --popover-foreground: var(--hc-foreground);
  --input: var(--hc-muted);
  --ring: var(--hc-primary);
}

/* High contrast mode specific styles */
.high-contrast * {
  /* Remove subtle shadows and effects */
  box-shadow: none !important;
  text-shadow: none !important;
  
  /* Ensure all borders are visible */
  border-width: 2px;
  border-style: solid;
}

.high-contrast img {
  /* Add borders to images for better definition */
  border: 2px solid hsl(var(--hc-foreground)) !important;
}

.high-contrast button,
.high-contrast [role="button"] {
  /* Enhanced button contrast */
  background-color: hsl(var(--hc-primary)) !important;
  color: hsl(var(--hc-primary-foreground)) !important;
  border: 3px solid hsl(var(--hc-foreground)) !important;
  font-weight: 700 !important;
}

.high-contrast button:hover,
.high-contrast [role="button"]:hover {
  /* Invert colors on hover for clear feedback */
  background-color: hsl(var(--hc-foreground)) !important;
  color: hsl(var(--hc-background)) !important;
  border-color: hsl(var(--hc-primary)) !important;
}

.high-contrast a {
  /* High contrast links */
  color: hsl(var(--hc-primary)) !important;
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
  font-weight: 600 !important;
}

.high-contrast a:hover {
  /* Inverted link hover state */
  background-color: hsl(var(--hc-primary)) !important;
  color: hsl(var(--hc-primary-foreground)) !important;
  text-decoration: none !important;
}

.high-contrast input,
.high-contrast textarea,
.high-contrast select {
  /* High contrast form inputs */
  background-color: hsl(var(--hc-background)) !important;
  color: hsl(var(--hc-foreground)) !important;
  border: 3px solid hsl(var(--hc-foreground)) !important;
  font-weight: 600 !important;
}

.high-contrast input:focus,
.high-contrast textarea:focus,
.high-contrast select:focus {
  /* Enhanced focus states */
  background-color: hsl(var(--hc-primary)) !important;
  color: hsl(var(--hc-primary-foreground)) !important;
  border-color: hsl(var(--hc-foreground)) !important;
  outline: 4px solid hsl(var(--hc-foreground)) !important;
  outline-offset: 2px !important;
}

/* ENHANCED FOCUS INDICATORS */
/* 
 * Enhanced focus indicators using orange color with proper contrast
 * Provides clear visual feedback for keyboard navigation
 * Meets WCAG 2.1 focus indicator requirements
 */

.enhanced-focus *:focus,
.enhanced-focus *:focus-visible {
  /* Enhanced focus ring with brand orange */
  outline: 3px solid hsl(var(--brand-focus-orange)) !important;
  outline-offset: 2px !important;
  border-radius: 4px;
  
  /* Ensure focus is visible on all backgrounds */
  box-shadow: 
    0 0 0 1px hsl(var(--background)),
    0 0 0 4px hsl(var(--brand-focus-orange)),
    0 0 8px hsl(var(--brand-focus-orange) / 0.3) !important;
}

/* High contrast mode enhanced focus */
.high-contrast.enhanced-focus *:focus,
.high-contrast.enhanced-focus *:focus-visible {
  outline: 4px solid hsl(var(--hc-primary)) !important;
  outline-offset: 3px !important;
  box-shadow: 
    0 0 0 2px hsl(var(--hc-background)),
    0 0 0 6px hsl(var(--hc-primary)),
    0 0 12px hsl(var(--hc-primary)) !important;
}

/* Focus indicators for specific elements */
.enhanced-focus button:focus,
.enhanced-focus [role="button"]:focus {
  /* Button focus with orange ring */
  outline: 3px solid hsl(var(--brand-focus-orange)) !important;
  outline-offset: 2px !important;
  box-shadow: 
    0 0 0 1px hsl(var(--background)),
    0 0 0 4px hsl(var(--brand-focus-orange)) !important;
}

.enhanced-focus input:focus,
.enhanced-focus textarea:focus,
.enhanced-focus select:focus {
  /* Form input focus with orange ring */
  border-color: hsl(var(--brand-focus-orange)) !important;
  outline: 2px solid hsl(var(--brand-focus-orange)) !important;
  outline-offset: 1px !important;
  box-shadow: 
    0 0 0 1px hsl(var(--background)),
    0 0 0 3px hsl(var(--brand-focus-orange)) !important;
}

.enhanced-focus a:focus {
  /* Link focus with orange background */
  background-color: hsl(var(--brand-focus-orange)) !important;
  color: hsl(var(--brand-text-on-orange)) !important;
  outline: 2px solid hsl(var(--brand-focus-orange)) !important;
  outline-offset: 2px !important;
  text-decoration: none !important;
  border-radius: 2px;
}

/* Skip link for keyboard navigation */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--brand-orange-500));
  color: hsl(var(--brand-text-on-orange));
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 4px;
  font-weight: 600;
  z-index: 1000;
  transition: top 0.3s;
}

.skip-link:focus {
  top: 6px;
  outline: 3px solid hsl(var(--brand-focus-orange));
  outline-offset: 2px;
}

/* SCREEN READER COMPATIBILITY STYLES */
/* 
 * Styles to ensure compatibility with screen readers
 * Provides proper semantic structure and accessible content
 */

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Show screen reader content when focused */
.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: 4px 8px;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
  background: hsl(var(--brand-orange-500));
  color: hsl(var(--brand-text-on-orange));
  border-radius: 4px;
  font-weight: 600;
}

/* Ensure proper color contrast for all text */
.accessible-text {
  color: hsl(var(--brand-text-on-light));
  font-weight: 500;
  line-height: 1.6;
}

.accessible-text-on-dark {
  color: hsl(var(--brand-text-on-dark));
  font-weight: 500;
  line-height: 1.6;
}

.accessible-text-on-orange {
  color: hsl(var(--brand-text-on-orange));
  font-weight: 600;
  line-height: 1.6;
}

/* Accessible status indicators */
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
}

.status-indicator::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.status-success::before {
  background-color: hsl(142 76% 36%);
}

.status-warning::before {
  background-color: hsl(var(--brand-orange-500));
}

.status-error::before {
  background-color: hsl(0 84% 48%);
}

.status-info::before {
  background-color: hsl(var(--brand-grey-900));
}

/* Accessible form validation */
.form-error {
  color: hsl(0 84% 48%);
  font-weight: 600;
  font-size: 14px;
  margin-top: 4px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.form-error::before {
  content: '';
  font-size: 16px;
  color: hsl(0 84% 48%);
}

.form-success {
  color: hsl(142 76% 36%);
  font-weight: 600;
  font-size: 14px;
  margin-top: 4px;
  display: flex;
  align-items: center;
  gap: 6px;
}

.form-success::before {
  content: '';
  font-size: 16px;
  color: hsl(142 76% 36%);
}

/* MEDIA QUERIES FOR ACCESSIBILITY PREFERENCES */
/* 
 * Respect user's system accessibility preferences
 * Automatically adjust styles based on user settings
 */

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Respect high contrast preference */
@media (prefers-contrast: high) {
  :root {
    /* Automatically enable high contrast mode */
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --primary: 60 100% 50%;
    --primary-foreground: 0 0% 0%;
    --border: 0 0% 100%;
  }
  
  * {
    border-width: 2px !important;
    font-weight: 600 !important;
  }
  
  button, [role="button"] {
    border-width: 3px !important;
    font-weight: 700 !important;
  }
}

/* Respect color scheme preference */
@media (prefers-color-scheme: dark) {
  :root {
    /* Use dark mode brand colors */
    --brand-orange-500: 39 100% 55%;
    --brand-grey-900: 0 0% 90%;
    --brand-text-on-light: 0 0% 90%;
    --brand-text-on-dark: 0 0% 10%;
  }
}

/* Windows High Contrast Mode Support */
@media (-ms-high-contrast: active) {
  * {
    /* Use system colors in Windows high contrast mode */
    background-color: ButtonFace !important;
    color: ButtonText !important;
    border-color: ButtonText !important;
  }
  
  button, [role="button"] {
    background-color: ButtonFace !important;
    color: ButtonText !important;
    border: 2px solid ButtonText !important;
  }
  
  button:hover, [role="button"]:hover {
    background-color: Highlight !important;
    color: HighlightText !important;
  }
  
  a {
    color: LinkText !important;
  }
  
  a:visited {
    color: VisitedText !important;
  }
}

@media (-ms-high-contrast: black-on-white) {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;
  }
}

@media (-ms-high-contrast: white-on-black) {
  :root {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;
  }
}

/* ACCESSIBILITY TESTING UTILITIES */
/* 
 * Utilities for testing and validating accessibility
 * Can be enabled during development to identify issues
 */

/* Highlight elements with accessibility issues (development only) */
.a11y-debug [aria-label=""],
.a11y-debug [alt=""],
.a11y-debug img:not([alt]),
.a11y-debug button:not([aria-label]):empty,
.a11y-debug [role="button"]:not([aria-label]):empty {
  outline: 3px solid red !important;
  outline-offset: 2px !important;
}

/* Highlight elements with good accessibility */
.a11y-debug [aria-label]:not([aria-label=""]),
.a11y-debug img[alt]:not([alt=""]),
.a11y-debug button[aria-label],
.a11y-debug [role="button"][aria-label] {
  outline: 2px solid green !important;
  outline-offset: 1px !important;
}

/* Show focus order for testing */
.a11y-debug [tabindex] {
  position: relative;
}

.a11y-debug [tabindex]::after {
  content: attr(tabindex);
  position: absolute;
  top: -20px;
  right: -20px;
  background: red;
  color: white;
  padding: 2px 6px;
  font-size: 12px;
  font-weight: bold;
  border-radius: 2px;
  z-index: 1000;
}

/* High Contrast Mode */
.high-contrast {
  --background: 0 0% 100%;
  --foreground: 0 0% 0%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 0%;
  --primary: 39 100% 35%;
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 0%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 90%;
  --muted-foreground: 0 0% 0%;
  --accent: 39 100% 35%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 100% 25%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 0%;
  --input: 0 0% 100%;
  --ring: 39 100% 35%;
  
  /* High contrast brand colors */
  --brand-orange-500: 39 100% 35%; /* Darker orange for better contrast */
  --brand-orange-600: 39 100% 30%;
  --brand-orange-700: 39 100% 25%;
  --brand-orange-accessible: 39 100% 33%; /* WCAG AA compliant orange #A85C00 */
  --brand-grey-900: 0 0% 0%; /* Pure black */
  --brand-grey-800: 0 0% 10%;
  --brand-grey-700: 0 0% 20%;
}

.high-contrast.dark {
  --background: 0 0% 0%;
  --foreground: 0 0% 100%;
  --card: 0 0% 0%;
  --card-foreground: 0 0% 100%;
  --popover: 0 0% 0%;
  --popover-foreground: 0 0% 100%;
  --primary: 39 100% 65%;
  --primary-foreground: 0 0% 0%;
  --secondary: 0 0% 100%;
  --secondary-foreground: 0 0% 0%;
  --muted: 0 0% 10%;
  --muted-foreground: 0 0% 100%;
  --accent: 39 100% 65%;
  --accent-foreground: 0 0% 0%;
  --destructive: 0 100% 75%;
  --destructive-foreground: 0 0% 0%;
  --border: 0 0% 100%;
  --input: 0 0% 0%;
  --ring: 39 100% 65%;
  
  /* High contrast dark mode brand colors */
  --brand-orange-500: 39 100% 65%; /* Brighter orange for dark high contrast */
  --brand-orange-600: 39 100% 70%;
  --brand-orange-700: 39 100% 75%;
  --brand-orange-accessible: 39 100% 67%; /* WCAG AA compliant orange for dark mode */
  --brand-grey-900: 0 0% 100%; /* Pure white */
  --brand-grey-800: 0 0% 90%;
  --brand-grey-700: 0 0% 80%;
}

/* Enhanced focus indicators for high contrast mode */
.high-contrast *:focus {
  outline: 3px solid hsl(var(--primary)) !important;
  outline-offset: 2px !important;
}

.high-contrast button:focus,
.high-contrast input:focus,
.high-contrast select:focus,
.high-contrast textarea:focus,
.high-contrast a:focus {
  outline: 3px solid hsl(var(--primary)) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 6px hsl(var(--primary) / 0.2) !important;
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus visible for better keyboard navigation */
.focus-visible:focus {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

/* Accessibility utilities */
.accessible-focus {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

.accessible-focus-high-contrast {
  outline: 3px solid hsl(var(--primary));
  outline-offset: 3px;
  box-shadow: 0 0 0 6px hsl(var(--primary) / 0.3);
}

/* Skip link for keyboard navigation */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
}
/*
 ACCESSIBILITY ENHANCEMENTS */

/* Skip Link Styles */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 4px;
  font-weight: 600;
  z-index: 9999;
  transition: top 0.3s ease;
  border: 2px solid hsl(var(--primary-border));
}

.skip-link:focus {
  top: 6px;
  outline: 3px solid hsl(var(--ring));
  outline-offset: 2px;
}

.high-contrast .skip-link {
  background: hsl(var(--brand-orange-accessible));
  border: 3px solid hsl(0 0% 0%);
  font-weight: 700;
}

.high-contrast .skip-link:focus {
  outline: 4px solid hsl(var(--brand-focus-color));
  outline-offset: 3px;
}

/* Screen Reader Only Content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Enhanced Focus Indicators */
.focus-visible-enhanced:focus-visible {
  outline: 3px solid hsl(var(--ring));
  outline-offset: 2px;
  border-radius: 4px;
}

.high-contrast .focus-visible-enhanced:focus-visible {
  outline: 4px solid hsl(var(--brand-focus-color));
  outline-offset: 3px;
  background-color: hsl(var(--background));
}

/* Button Focus Enhancements */
.btn-focus-enhanced:focus-visible {
  outline: 3px solid hsl(var(--ring));
  outline-offset: 2px;
  box-shadow: 0 0 0 6px hsl(var(--ring) / 0.2);
}

.high-contrast .btn-focus-enhanced:focus-visible {
  outline: 4px solid hsl(var(--brand-focus-color));
  outline-offset: 3px;
  box-shadow: 0 0 0 8px hsl(var(--brand-focus-color) / 0.3);
}

/* Link Focus Enhancements */
.link-focus-enhanced:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
  border-radius: 2px;
  background-color: hsl(var(--ring) / 0.1);
}

.high-contrast .link-focus-enhanced:focus-visible {
  outline: 3px solid hsl(var(--brand-focus-color));
  outline-offset: 3px;
  background-color: hsl(var(--brand-focus-color) / 0.2);
}

/* Input Focus Enhancements */
.input-focus-enhanced:focus-visible {
  outline: 3px solid hsl(var(--ring));
  outline-offset: 1px;
  border-color: hsl(var(--ring));
  box-shadow: 0 0 0 3px hsl(var(--ring) / 0.2);
}

.high-contrast .input-focus-enhanced:focus-visible {
  outline: 4px solid hsl(var(--brand-focus-color));
  outline-offset: 2px;
  border-color: hsl(var(--brand-focus-color));
  box-shadow: 0 0 0 4px hsl(var(--brand-focus-color) / 0.3);
  background-color: hsl(var(--background));
}

/* Live Region Styles */
.live-region {
  position: absolute;
  left: -10000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

/* High Contrast Mode Toggle Button */
.high-contrast-toggle {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9998;
  background: hsl(var(--secondary));
  color: hsl(var(--secondary-foreground));
  border: 2px solid hsl(var(--border));
  padding: 8px 12px;
  border-radius: 4px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.high-contrast-toggle:hover {
  background: hsl(var(--secondary) / 0.9);
  transform: translateY(-1px);
}

.high-contrast-toggle:focus-visible {
  outline: 3px solid hsl(var(--ring));
  outline-offset: 2px;
}

.high-contrast .high-contrast-toggle {
  background: hsl(var(--brand-orange-accessible));
  color: hsl(var(--primary-foreground));
  border: 3px solid hsl(0 0% 0%);
  font-weight: 700;
}

.high-contrast .high-contrast-toggle:focus-visible {
  outline: 4px solid hsl(var(--brand-focus-color));
  outline-offset: 3px;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .skip-link,
  .high-contrast-toggle,
  .btn-focus-enhanced,
  .link-focus-enhanced,
  .input-focus-enhanced {
    transition: none;
  }
  
  .high-contrast-toggle:hover {
    transform: none;
  }
}

/* Print Styles for Accessibility */
@media print {
  .skip-link,
  .high-contrast-toggle,
  .sr-only {
    display: none !important;
  }
  
  /* Ensure good contrast in print */
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
  }
  
  a, a:visited {
    color: black !important;
    text-decoration: underline !important;
  }
}

/* Focus Management for Modal/Dialog */
.focus-trap {
  position: relative;
}

.focus-trap:focus-within {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
}

.high-contrast .focus-trap:focus-within {
  outline: 3px solid hsl(var(--brand-focus-color));
  outline-offset: 3px;
}

/* Keyboard Navigation Indicators */
.keyboard-navigation-active .focusable:focus-visible {
  outline: 3px solid hsl(var(--ring));
  outline-offset: 2px;
  border-radius: 4px;
}

.high-contrast.keyboard-navigation-active .focusable:focus-visible {
  outline: 4px solid hsl(var(--brand-focus-color));
  outline-offset: 3px;
}

/* Color Blind Friendly Patterns */
.pattern-accessible {
  background-image: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 2px,
    hsl(var(--border)) 2px,
    hsl(var(--border)) 4px
  );
}

.high-contrast .pattern-accessible {
  background-image: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 3px,
    hsl(0 0% 0%) 3px,
    hsl(0 0% 0%) 6px
  );
}

/* Theme Transition Styles for Enhanced UX */
/* These styles ensure smooth theme switching and prevent FOUC */

/* Disable transitions during theme initialization to prevent flashing */
.theme-transitioning,
.theme-transitioning * {
  transition: none !important;
  animation: none !important;
}

/* Smooth theme switching transitions */
.theme-switching {
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

/* Apply smooth transitions to all theme-aware elements */
html:not(.theme-transitioning) * {
  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}

/* Prevent layout shifts during app initialization */
.app-initializing {
  opacity: 0.98;
  transition: opacity 0.1s ease-in-out;
}

/* High contrast mode enhancements */
.high-contrast {
  /* Enhanced borders and outlines for high contrast */
  --ring-width: 3px;
  --border-width: 2px;
  
  /* Stronger contrast ratios */
  --brand-orange-500: 39 100% 25%; /* Much darker orange for light mode */
  --brand-grey-900: 0 0% 0%; /* Pure black */
  --background: 0 0% 100%; /* Pure white */
}

.high-contrast.dark {
  /* High contrast dark mode */
  --brand-orange-500: 39 100% 75%; /* Much brighter orange for dark mode */
  --brand-grey-900: 0 0% 100%; /* Pure white */
  --background: 0 0% 0%; /* Pure black */
}

/* Enhanced focus indicators for accessibility */
.high-contrast *:focus-visible {
  outline: 3px solid hsl(var(--brand-focus-orange));
  outline-offset: 2px;
}

/* Ensure proper font rendering across themes */
body {
  font-family: var(--font-sans);
  font-feature-settings: "rlig" 1, "calt" 1;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Prevent flash of unstyled content during hydration */
#root {
  min-height: 100vh;
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
}

/* Ensure theme classes are applied correctly */
html.light {
  color-scheme: light;
}

html.dark {
  color-scheme: dark;
}

/* Performance optimization for theme switching */
@media (prefers-reduced-motion: reduce) {
  .theme-switching,
  html:not(.theme-transitioning) * {
    transition: none !important;
    animation: none !important;
  }
}

/* Ensure proper contrast for interactive elements */
button, 
input, 
select, 
textarea, 
[role="button"], 
[role="link"] {
  transition: all 0.2s ease;
}

/* Enhanced theme-aware shadows */
.light {
  --shadow-color: 0 0% 0%;
  --shadow-strength: 0.1;
}

.dark {
  --shadow-color: 0 0% 0%;
  --shadow-strength: 0.3;
}

/* Theme-aware scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--border));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--accent));
}

/* Ensure proper theme inheritance for dynamic content */
[data-theme="light"] {
  color-scheme: light;
}

[data-theme="dark"] {
  color-scheme: dark;
}